{"version":3,"sources":["valid.js"],"names":["validon__urlPath","document","currentScript","src","getElementsByTagName","length","replace","RegExp","location","origin","validon__windowOnload","form","window","onload","validon__submitCheck","forms","attachEvent","i","getAttribute","addEventListener","config","event","each","preventDefault","returnValue","errortag","position","xhr","XMLHttpRequest","onreadystatechange","readyState","console","log","this","status","setRequestHeader","open","send","JSON","stringify","validon"],"mappings":"aAIA,IAAIA,kBAAJC,SAAID,cAEAC,SAASC,cAAcC,IAO3BF,SAAAG,qBAAA,UAAAH,SAAAG,qBAAA,UAAAC,OAAA,GAAAF,KAJEG,QAAQ,IAAIC,OAAO,IAAIC,SAASC,QAAS,IAO3CH,QAAII,UAAAA,IAMAC,sBAAsBC,OAAtBC,QAAgCC,WAEhCH,IADA,IAFDI,EAEOd,SAASe,iBAAa,QACvBA,EAAAA,EAAAA,EAAYD,EAAAV,OAAYS,IAAAA,CAC7B,IAAAH,EAAAI,EAAAE,GACDN,EAAAO,aAAA,yBACDP,EAAAQ,iBAXFR,EAAAQ,iBAAA,SAAAL,sBAAA,GAaAH,EAAgBK,aAAcN,EAAAA,YAAAA,WAAAA,yBAS5BU,SAAAA,qBAA0BC,GAC1BC,EAAMX,eAAkBU,EAAAE,iBAFXF,EAAAG,aAAA,EAGbC,IAAAA,EAAUd,EAAKO,WACfQ,EAAUf,CAJXS,OAAAT,EAAAO,aAAA,uBAMAI,KAAIK,EAAMT,aAAIU,qBACdD,SAAIE,EAAAA,aAAqB,0BAAW,oCACnCH,SAAOf,EAAKmB,aAAT,0BAA0C,UAE5CC,EAAQC,IAAIJ,eAEZD,EAAAE,mBAAA,WALF,IAAAI,KAAAH,YAAA,MAAAG,KAAAC,QAQAP,QAAIQ,IAAAA,KAAAA,eADJR,EAAIS,KAAK,OAAQpC,iBAAiB,aAClC2B,EAAIQ,iBAAiB,eAAgB,oBACrCR,EAAIU,KAAKC,KAAKC,UAAUC,IAxBzB5B,OAAOC,OAAS,WAAcH","file":"valid.js","sourcesContent":["\n/**\n * set url path\n */\nvar validon__urlPath = (\n\tdocument.currentScript\n\t\t? document.currentScript.src\n\t\t: document.getElementsByTagName('script')[document.getElementsByTagName('script').length-1].src\n\t)\n\t.replace(new RegExp('^'+location.origin), '')\n\t.replace(/[^\\/]+$/, '')\n;\n\n/**\n * onLoad\n */\nvar validon__windowOnload = window.onload || function () {\n\tvar forms = document.querySelectorAll('form');\n\tfor (var i = 0; i < forms.length; i++) {\n\t\tvar form = forms[i]\n\t\tif (form.getAttribute('data-validon-config')) {\n\t\t\tif (form.addEventListener) {\n\t\t\t\tform.addEventListener('submit', validon__submitCheck, false);\n\t\t\t} else if (form.attachEvent) {\n\t\t\t\tform.attachEvent('onsubmit', validon__submitCheck)\n\t\t\t}\n\t\t}\n\t}\n};\nwindow.onload = function () { validon__windowOnload(); };\n\n/**\n * check at submit\n */\nfunction validon__submitCheck(event) {\n\t(event.preventDefault) ? event.preventDefault() : event.returnValue = false;\n\tvar form = event.srcElement\n\tvar validon = {\n\t\tconfig: form.getAttribute('data-validon-config'),\n\t\teach: form.getAttribute('data-validon-each'),\n\t\terrortag: form.getAttribute('data-validon-errortag') || '<div class=\"error\">$message</div>',\n\t\tposition: form.getAttribute('data-validon-position') || 'append'\n\t}\n\tvar xhr = new XMLHttpRequest();\n\txhr.onreadystatechange = function() {\n\t\tif(4===this.readyState && 200===this.status) {\n\n\t\t\tconsole.log(this.responseText);\n\n\t\t}\n\t}\n\txhr.open('POST', validon__urlPath+'valid.php');\n\txhr.setRequestHeader('Content-Type', 'application/json');\n\txhr.send(JSON.stringify(validon));\n\n}\n"]}